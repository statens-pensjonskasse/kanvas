#!groovy
@Library('jenkins-pipeline-library')
import no.spk.jenkins.pipeline.cd.config.CDPipelineConfig

cdPipeline {
    config = CDPipelineConfig.get()
            .tagAndDeployToTest(fromBranches: 'develop', env: 'kpt')
            .tagAndDeployToTest(fromBranches: 'master', env: 'lyn')
            .tagAndDeployToProd(fromBranches: 'master', approvers: 'team premie')
            .withEmailNotifications(recipients: 'ITO-TeamPremie@spk.no')
            .withSlackNotifications(channels: 'panda-cd' )
}
